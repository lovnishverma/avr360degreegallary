<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>360-Degree Image Viewer</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <!-- 360-degree images -->
        <img id="MAIN" crossorigin="anonymous" src="https://cdn.glitch.global/9643226b-b70f-4c02-8018-2513b74927a2/MAIN.jpg?v=1687801273842">
        <img id="RECEPTION" crossorigin="anonymous" src="https://cdn.glitch.global/9643226b-b70f-4c02-8018-2513b74927a2/RECEPTION.jpg?v=1687799371804">
        <img id="innerview" crossorigin="anonymous" src="https://cdn.glitch.global/9643226b-b70f-4c02-8018-2513b74927a2/INNER%20VIEW.jpg?v=1687799350279">
        <img id="stairs" crossorigin="anonymous" src="https://cdn.glitch.global/9643226b-b70f-4c02-8018-2513b74927a2/PXL_20230626_123848515.PHOTOSPHERE.jpg?v=1687799395901">
        <img id="avrlab" crossorigin="anonymous" src="https://cdn.glitch.global/9643226b-b70f-4c02-8018-2513b74927a2/lab1.jpg?v=1687781212677">
        <img id="212lab" crossorigin="anonymous" src="https://cdn.glitch.global/9643226b-b70f-4c02-8018-2513b74927a2/lab2.jpg?v=1687781206034">
        <img id="boyshostel" crossorigin="anonymous" src="https://cdn.glitch.global/9643226b-b70f-4c02-8018-2513b74927a2/PXL_20230626_131402904.PHOTOSPHERE~2.jpg?v=1687799401970">
        <img id="playground" crossorigin="anonymous" src="https://cdn.glitch.global/9643226b-b70f-4c02-8018-2513b74927a2/PXL_20230626_132723118.PHOTOSPHERE.jpg?v=1687799390151">
        
        <!-- Outer poster images -->
        <img id="MAIN-thumb" crossorigin="anonymous" src="https://cdn.glitch.global/9643226b-b70f-4c02-8018-2513b74927a2/MAINVIEW.png?v=1687782535965">
        <img id="RECEPTION-thumb" crossorigin="anonymous" src="https://cdn.glitch.global/9643226b-b70f-4c02-8018-2513b74927a2/RECEPTION.png?v=1687801300499">
        <img id="innerview-thumb" crossorigin="anonymous" src="https://cdn.glitch.global/9643226b-b70f-4c02-8018-2513b74927a2/INNER%20VIEW.png?v=1687801319026">
        <img id="stairs-thumb" crossorigin="anonymous" src="https://cdn.glitch.global/9643226b-b70f-4c02-8018-2513b74927a2/PXL_20230626_123848515.PHOTOSPHERE.png?v=1687801319046">
        <img id="avrlab-thumb" crossorigin="anonymous" src="https://cdn.glitch.global/9643226b-b70f-4c02-8018-2513b74927a2/lab1.png?v=1687801319024">
        <img id="212lab-thumb" crossorigin="anonymous" src="https://cdn.glitch.global/9643226b-b70f-4c02-8018-2513b74927a2/lab2.png?v=1687801319040">
        <img id="boyshostel-thumb" crossorigin="anonymous" src="https://cdn.glitch.global/9643226b-b70f-4c02-8018-2513b74927a2/BOYS%20HOSTEL.png?v=1687801319060">
        <img id="playground-thumb" crossorigin="anonymous" src="https://cdn.glitch.global/9643226b-b70f-4c02-8018-2513b74927a2/PLAYGROUND.png?v=1687801292850">
      </a-assets>

      <!-- 360-degree image viewer -->
      <a-sky id="image-360" src="#MAIN" opacity="0"></a-sky>

      <!-- Outer poster images -->
      <div class="container">
        <a-entity class="tile" id="MAIN-thumb" cursor-listener material="src: #MAIN-thumb"></a-entity>
        <a-entity class="tile" id="RECEPTION-thumb" cursor-listener material="src: #RECEPTION-thumb"></a-entity>
        <a-entity class="tile" id="innerview-thumb" cursor-listener material="src: #innerview-thumb"></a-entity>
        <a-entity class="tile" id="stairs-thumb" cursor-listener material="src: #stairs-thumb"></a-entity>
        <a-entity class="tile" id="avrlab-thumb" cursor-listener material="src: #avrlab-thumb"></a-entity>
        <a-entity class="tile" id="212lab-thumb" cursor-listener material="src: #212lab-thumb"></a-entity>
        <a-entity class="tile" id="boyshostel-thumb" cursor-listener material="src: #boyshostel-thumb"></a-entity>
        <a-entity class="tile" id="playground-thumb" cursor-listener material="src: #playground-thumb"></a-entity>
      </div>

      <script>
        AFRAME.registerComponent('cursor-listener', {
          init: function () {
            var image360 = document.querySelector('#image-360');
            var skyMaterial = image360.getAttribute('material');

            this.el.addEventListener('click', function () {
              var imageId = this.getAttribute('id');
              var imageSrc = document.querySelector('#' + imageId).getAttribute('src');
              
              // Update the 360-degree image source
              skyMaterial.src = imageSrc;
              image360.setAttribute('material', skyMaterial);

              // Show the new image
              image360.setAttribute('animation__fade', 'property: material.opacity; from: 0; to: 1; dur: 1000');
            });
          }
        });
      </script>
    </a-scene>
  </body>
</html>